{"version":3,"file":"angular-tawk.js.map","sources":["ng://angular-tawk/lib/angular-tawk.component.ts","ng://angular-tawk/lib/angular-tawk.module.ts"],"sourcesContent":["import { Component, Inject, Input, OnDestroy, OnInit, Renderer2 } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\n@Component({\n    selector: 'angular-tawk',\n    template: ``,\n    styles: []\n})\nexport class AngularTawkComponent implements OnInit, OnDestroy {\n    @Input() id: string;\n    @Input() isVisibleOnMobile: string;\n    isMobile = false;\n    script = this.renderer.createElement('script');\n\n    constructor(private renderer: Renderer2, @Inject(DOCUMENT) private document) { }\n\n    ngOnInit() {\n        if (navigator.userAgent.match(/Android/i)\n            || navigator.userAgent.match(/webOS/i)\n            || navigator.userAgent.match(/iPhone/i)\n            || navigator.userAgent.match(/iPad/i)\n            || navigator.userAgent.match(/iPod/i)\n            || navigator.userAgent.match(/BlackBerry/i)\n            || navigator.userAgent.match(/Windows Phone/i)\n        ) {\n            this.isMobile = true;\n        }\n\n        if (window[`$_Tawk`] && window[`$_Tawk`].downloaded) {\n            if (this.isMobile && this.isVisibleOnMobile === 'no') {\n                window[`$_Tawk`].hideWidget();\n            } else {\n                window[`$_Tawk`].showWidget();\n            }\n        } else {\n            this.script.text = `var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date(), isVisible = '${this.isVisibleOnMobile}';\n                (function () {\n                var s1 = document.createElement(\"script\"), s0 = document.getElementsByTagName(\"script\")[0];\n                s1.async = true;\n                s1.src = 'https://embed.tawk.to/${this.id}/default';\n                s1.charset = 'UTF-8';\n                s1.setAttribute('crossorigin', '*');\n                s0.parentNode.insertBefore(s1, s0);\n                })();\n                    Tawk_API.onLoad = function() {\n                        if (${this.isMobile} && isVisible === 'no') {\n                            Tawk_API.hideWidget();\n                        }\n                    };\n                `;\n            this.renderer.appendChild(this.document.body, this.script);\n        }\n    }\n\n    ngOnDestroy() {\n        if (window[`$_Tawk`] && window[`$_Tawk`].ready) {\n            window[`$_Tawk`].hideWidget();\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { AngularTawkComponent } from './angular-tawk.component';\n\n@NgModule({\n  declarations: [AngularTawkComponent],\n  imports: [\n  ],\n  exports: [AngularTawkComponent]\n})\nexport class AngularTawkModule { }\n"],"names":[],"mappings":";;;;;;;;AAAA,MAQa,oBAAoB;;;;;IAM7B,YAAoB,QAAmB,EAA4B,QAAQ;QAAvD,aAAQ,GAAR,QAAQ,CAAW;QAA4B,aAAQ,GAAR,QAAQ,CAAA;QAH3E,aAAQ,GAAG,KAAK,CAAC;QACjB,WAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;KAEiC;;;;IAEhF,QAAQ;QACJ,IAAI,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC;eAClC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC;eACnC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC;eACpC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC;eAClC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC;eAClC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,aAAa,CAAC;eACxC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,gBAAgB,CAAC,EAChD;YACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACxB;QAED,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE;YACjD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,iBAAiB,KAAK,IAAI,EAAE;gBAClD,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC;aACjC;iBAAM;gBACH,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC;aACjC;SACJ;aAAM;YACH,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,4EAA4E,IAAI,CAAC,iBAAiB;;;;kDAI/E,IAAI,CAAC,EAAE;;;;;;8BAM3B,IAAI,CAAC,QAAQ;;;;iBAI1B,CAAC;YACN,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;SAC9D;KACJ;;;;IAED,WAAW;QACP,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE;YAC5C,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC;SACjC;KACJ;;;YAvDJ,SAAS,SAAC;gBACP,QAAQ,EAAE,cAAc;gBACxB,QAAQ,EAAE,EAAE;aAEf;;;;YAPqD,SAAS;4CAcjB,MAAM,SAAC,QAAQ;;;iBALxD,KAAK;gCACL,KAAK;;;;;;;;ACVV,MASa,iBAAiB;;;YAN7B,QAAQ,SAAC;gBACR,YAAY,EAAE,CAAC,oBAAoB,CAAC;gBACpC,OAAO,EAAE,EACR;gBACD,OAAO,EAAE,CAAC,oBAAoB,CAAC;aAChC;;;;;;;;;;;;;;;;;"}
